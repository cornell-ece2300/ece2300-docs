
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Christopher Batten">
      
      
      
        <link rel="prev" href="../ece2300-sec01-linux/">
      
      
        <link rel="next" href="../ece2300-sec03-verilog-testing/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Section 2: Verilog Combinational Gate-Level Design - ECE 2300 Digital Logic and Computer Organization</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-2-verilog-combinational-gate-level-design" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ECE 2300 Digital Logic and Computer Organization" class="md-header__button md-logo" aria-label="ECE 2300 Digital Logic and Computer Organization" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ECE 2300 Digital Logic and Computer Organization
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Section 2: Verilog Combinational Gate-Level Design
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cornell-ece2300/ece2300-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece2300/ece2300-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ece2300-tut00-remote-access/" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ece2300-sec01-linux/" class="md-tabs__link">
          
  
  Discussion Sections

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ece2300-fpga-primer/" class="md-tabs__link">
          
  
  Lab Assignments

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ece2300-tinyrv1-isa/" class="md-tabs__link">
          
  
  Misc

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ECE 2300 Digital Logic and Computer Organization" class="md-nav__button md-logo" aria-label="ECE 2300 Digital Logic and Computer Organization" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ECE 2300 Digital Logic and Computer Organization
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cornell-ece2300/ece2300-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece2300/ece2300-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-tut00-remote-access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial 0: ECE Linux Server Remote Access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-tut01-linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial 1: Linux Development Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-tut02-git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial 2: Git Distributed Version Control System
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Discussion Sections
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Discussion Sections
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-sec01-linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Section 1: Linux Development Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Section 2: Verilog Combinational Gate-Level Design
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Section 2: Verilog Combinational Gate-Level Design
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-logging-into-ecelinux-with-vs-code" class="md-nav__link">
    <span class="md-ellipsis">
      1. Logging Into ecelinux with VS Code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-background-on-a-pairtriple-detector" class="md-nav__link">
    <span class="md-ellipsis">
      2. Background on a Pair/Triple Detector
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-implementing-and-linting-a-pairtriple-detector-in-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implementing and Linting a Pair/Triple Detector in Verilog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Implementing and Linting a Pair/Triple Detector in Verilog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-implementing-a-verilog-design" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Implementing a Verilog Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-linting-a-verilog-design" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Linting a Verilog Design
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-ad-hoc-testing-a-pairtriple-detector-in-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      4. Ad-Hoc Testing a Pair/Triple Detector in Verilog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Ad-Hoc Testing a Pair/Triple Detector in Verilog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-implementing-a-verilog-test-bench" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Implementing a Verilog Test Bench
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-ad-hoc-testing-a-verilog-design" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Ad-Hoc Testing a Verilog Design
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-systematic-testing-for-a-pairtriple-detector-in-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      5. Systematic Testing for a Pair/Triple Detector in Verilog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-automating-the-development-process" class="md-nav__link">
    <span class="md-ellipsis">
      6. Automating the Development Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Automating the Development Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-using-bash-shell-scripts-for-testing" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Using Bash Shell Scripts for Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-using-github-actions-for-continuous-integration" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Using GitHub Actions for Continuous Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-to-do-on-your-own" class="md-nav__link">
    <span class="md-ellipsis">
      7. To-Do On Your Own
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-sec03-verilog-testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Section 3: Verilog Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-sec04-lab2-head-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Section 4: Lab 2 Head Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-sec05-verilog-rtl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Section 5: Verilog Combinational RTL Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-sec06-lab3-head-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Section 6: Lab 3 Head Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-sec07-verilog-mem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Section 7: Verilog Memory Arrays
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lab Assignments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lab Assignments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-fpga-primer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FPGA Development Primer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab1p1-display/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 1 (Parts A & B): Five-Bit Numeric Display -- Implementation and Verification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab1p2-display/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 1 (Parts C & D): Five-Bit Numeric Display -- FPGA Analysis/Prototyping and Report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab2p1-calc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 2 (Parts A & B): Two-Function Calculator -- Implementation and Verification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab2-calc-fpga-report/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 2 (Parts C & D): Two-Function Calculator -- FPGA Analysis/Prototyping and Report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab3ab-music/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 3 (Parts A & B): Music-Player -- Implementation and Verification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab3cd-music/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 3 (Parts C & D): Music-Player -- FPGA Analysis/Prototyping and Report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab3cd-custom-song/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 3 (Parts C & D) Optional Add-On: Custom Song
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab4ab-proc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 4 (Parts A, B, & C) TinyRV1 Processor -- Implementation and Verification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab4d-proc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 4 (Part D) TinyRV1 Processor -- FPGA Analysis/Prototyping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-lab4ef-proc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab 4 (Parts E & F) TinyRV1 Processor -- FPGA Analysis/Prototyping and Report
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece2300-tinyrv1-isa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TinyRV1 ISA
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-logging-into-ecelinux-with-vs-code" class="md-nav__link">
    <span class="md-ellipsis">
      1. Logging Into ecelinux with VS Code
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-background-on-a-pairtriple-detector" class="md-nav__link">
    <span class="md-ellipsis">
      2. Background on a Pair/Triple Detector
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-implementing-and-linting-a-pairtriple-detector-in-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      3. Implementing and Linting a Pair/Triple Detector in Verilog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Implementing and Linting a Pair/Triple Detector in Verilog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-implementing-a-verilog-design" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Implementing a Verilog Design
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-linting-a-verilog-design" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Linting a Verilog Design
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-ad-hoc-testing-a-pairtriple-detector-in-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      4. Ad-Hoc Testing a Pair/Triple Detector in Verilog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Ad-Hoc Testing a Pair/Triple Detector in Verilog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-implementing-a-verilog-test-bench" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Implementing a Verilog Test Bench
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-ad-hoc-testing-a-verilog-design" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Ad-Hoc Testing a Verilog Design
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-systematic-testing-for-a-pairtriple-detector-in-verilog" class="md-nav__link">
    <span class="md-ellipsis">
      5. Systematic Testing for a Pair/Triple Detector in Verilog
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-automating-the-development-process" class="md-nav__link">
    <span class="md-ellipsis">
      6. Automating the Development Process
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Automating the Development Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-using-bash-shell-scripts-for-testing" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Using Bash Shell Scripts for Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-using-github-actions-for-continuous-integration" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Using GitHub Actions for Continuous Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-to-do-on-your-own" class="md-nav__link">
    <span class="md-ellipsis">
      7. To-Do On Your Own
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="section-2-verilog-combinational-gate-level-design">Section 2: Verilog Combinational Gate-Level Design</h1>
<p>In this discussion section you will develop your first Verilog hardware
design, build a simulator for your design, and then test the
functionality of your design.</p>
<h2 id="1-logging-into-ecelinux-with-vs-code">1. Logging Into <code>ecelinux</code> with VS Code</h2>
<p>Follow the same process as last discussion section. Find a free
workstation and log into the workstation using your NetID and standard
NetID password. Then complete the following steps (described in more
detail in the last discussion section):</p>
<ul>
<li>Start VS Code</li>
<li>Install the Remote-SSH, Verilog, and Surfer extensions</li>
<li>Use <em>View &gt; Command Palette</em> to execute <em>Remote-SSH: Connect Current
    Window to Host...</em></li>
<li>Enter <code>netid@ecelinux.ece.cornell.edu</code></li>
<li>Install the Verilog and Surfer extensions on the server</li>
<li>Use <em>View &gt; Explorer</em> to open your home directory on <code>ecelinux</code></li>
<li>Use <em>View &gt; Terminal</em> to open a terminal on <code>ecelinux</code></li>
</ul>
<p>Note that installing the Surfer extension is new from last time.</p>
<p><img alt="" src="../img/tut00-vscode-surfer.png" /></p>
<p>You need to install the Surfer extension on <em>both</em> your local machine
<em>and</em> the server. So you might need to disconnect from the server using
<em>File &gt; Close Remote Connection</em>. Now fork the GitHub repo we will be
using in this discussion section. As mentioned last week, we won't
actually be forking repos for the lab assignments, but it is an easy way
for you to grab some example code for this discussion section and also to
see how GitHub actions work. Go to the example repo here:</p>
<ul>
<li><a href="https://github.com/cornell-ece2300/ece2300-sec02-verilog-gl">https://github.com/cornell-ece2300/ece2300-sec02-verilog-gl</a></li>
</ul>
<p>Click on the "Fork" button. Wait a few seconds and then visit the new
copy of this repo in your own person GitHub workspace:</p>
<ul>
<li><a href="https://github.com/githubid/ece2300-sec02-verilog-gl">https://github.com/githubid/ece2300-sec02-verilog-gl</a></li>
</ul>
<p>where <code>githubid</code> is your username on the public version of GitHub. Enable
GitHub Actions on this repo. Click on the <em>Actions</em> tab in your
repository on GitHub and click <em>I understand my workflows, go ahead and
enable them</em>. Now let's clone your new repo to the <code>ecelinux</code> machine.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>%<span class="w"> </span><span class="nb">source</span><span class="w"> </span>setup-ece2300.sh
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>%<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:githubid/ece2300-sec02-verilog-gl<span class="w"> </span>sec02
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>sec02
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>%<span class="w"> </span>tree
</span></code></pre></div>
<p>Where <code>githubid</code> is your username on the public version of GitHub. The
repo includes the following files:</p>
<ul>
<li><code>PairTripleDetector_GL.v</code> : Verilog for simple hardware module</li>
<li><code>PairTripleDetector_GL-adhoc.v</code> : adhoc test for hardware module</li>
<li><code>ece2300-test.v</code> : ECE 2300 unit testing library</li>
<li><code>PairTripleDetector_GL-test.v</code> : test cases for hardware module</li>
</ul>
<h2 id="2-background-on-a-pairtriple-detector">2. Background on a Pair/Triple Detector</h2>
<p>We will be using a pair/triple detector as the target hardware in this
discussion section. A pair/triple detector has some number of input ports
and one output port. The output is one if either two or three of the
inputs are one, and is the output should be zero otherwise. Here is a
truth table for a three-bit pair/triple detector.</p>
<table>
<thead>
<tr>
<th>in0</th>
<th>in1</th>
<th>in2</th>
<th>out</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Verify that this truth table matches the specification above. Here is a
gate-level network that implements this truth table.</p>
<p><img alt="" src="../img/sec02-pair-triple-gl-network.jpg" /></p>
<p>Here is an example of an incomplete simulation table for this gate-level
network.</p>
<table>
<thead>
<tr>
<th>in0</th>
<th>in1</th>
<th>in2</th>
<th>w</th>
<th>x</th>
<th>y</th>
<th>out</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Here is an example of an incomplete waveform which corresponds to the
above simulation table.</p>
<p><img alt="" src="../img/sec02-pair-triple-waveform.jpg" /></p>
<div class="admonition question">
<p class="admonition-title">Activity 1: Simulation Tables and Waveforms</p>
<p>Complete the above simulation table and waveform. Assume a zero delay
model.</p>
</div>
<h2 id="3-implementing-and-linting-a-pairtriple-detector-in-verilog">3. Implementing and Linting a Pair/Triple Detector in Verilog</h2>
<p>In this part, we will first implement a pair/triple detector before
linting the detector to check for errors.</p>
<h3 id="31-implementing-a-verilog-design">3.1. Implementing a Verilog Design</h3>
<p>Before implementing the pair/triple detector, you might want to review
how to instantiate our primitive logic gates in Verilog.</p>
<p><img alt="" src="../img/sec02-verilog-gates.png" /></p>
<p>We have provided you with the interface for the pair/triple detector in
<code>PairTripleDetector_GL.v</code>.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">module</span><span class="w"> </span><span class="n">PairTripleDetector_GL</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="p">(</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">);</span>
</span></code></pre></div>
<p>The module has three input ports and one output port. Notice that this
file has a <code>_GL</code> suffix which standes for "gate-level". We will use
various suffixes to clearly indicate what level of modeling is being used
within the implementation of the corresponding Verilog hardware design.
Open the <code>PairTripleDetector_GL.v</code> Verilog file using VS Code.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>%<span class="w"> </span>code<span class="w"> </span>PairTripleDetector_GL.v
</span></code></pre></div>
<div class="admonition question">
<p class="admonition-title">Activity 2: Implement a Pair/Triple Detector</p>
<p>Create a Verilog hardware design that implements a pair/triple
detector by declaring wires, instantiating primitive logic gates, and
connecting the wires and gates appropriately.</p>
</div>
<h3 id="32-linting-a-verilog-design">3.2. Linting a Verilog Design</h3>
<p>Note that Verilog is a very relaxed language which allows all kinds of
sketch constructs many of which are only flagged with warnings. So we
will be using the open-source <code>verilator</code> tool to <em>lint</em> our Verilog
hardware designs. Linting means to check the design for static errors. It
is critical be clear that <code>verilator</code> will only check for <em>static</em> errors
(i.e., syntax errors) and does not actually test that your hardware
design has the desired <em>dynamic</em> behavior. We will use testing in the
next part to verify your hardawre design has the desired dynamic
behavior. There is more information about <code>verilator</code> on its webpage:</p>
<ul>
<li><a href="https://www.veripool.org/verilator">https://www.veripool.org/verilator</a></li>
</ul>
<p>Here is how to use <code>verilator</code> to lint our design.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>%<span class="w"> </span>verilator<span class="w"> </span>-Wall<span class="w"> </span>--lint-only<span class="w"> </span>PairTripleDetector_GL.v
</span></code></pre></div>
<p>If <code>verilator</code> does not report any warnings or errors then you are ready
to compile a simulator; but let's purposefully make an error in our
Verilog hardware design. For example, modify your hardware design to
purposefully omit the semicolon at the end of the module interface.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="no">`ifndef</span><span class="w"> </span><span class="n">PAIR_TRIPLE_DETECTOR_V1_GL_V</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="cp">`define PAIR_TRIPLE_DETECTOR_V1_GL_V</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="k">module</span><span class="w"> </span><span class="n">PairTripleDetectorV1_GL</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="p">(</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">  </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="p">);</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">  </span><span class="c1">//&#39;&#39;&#39; ACTIVITY &#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">  </span><span class="c1">// Implement pair/triple detector using explicit gate-level modeling</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">  </span><span class="c1">//&gt;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;&#39;</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="k">endmodule</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="no">`endif</span><span class="w"> </span><span class="cm">/* PAIR_TRIPLE_DETECTOR_V1_GL_V */</span>
</span></code></pre></div>
<p>The <code>ifdef</code>, <code>define</code>, and <code>endif</code> statements are for the Verilog
<em>preprocessor</em> and act as <em>include guards</em>; then ensure if we include a
Verilog module multiple times it is only inserted into the final Verilog
hardware design once.</p>
<div class="admonition question">
<p class="admonition-title">Activity 3: Injecting a Static Bug</p>
</div>
<p>Try removing the semicolon after the closed parenthesis to create a
  bug. Rerun <code>verilator</code> to lint your design. You should see an error.
  <code>verilator</code> is much, much better at catching syntax bugs and providing
  useful error messages. <strong>So we will always lint our designs first with
  <code>verilator</code>, and then (only once we are sure there are no static
  errors!) we will move on to testing our hardware design's
  functionality.</strong></p>
<h2 id="4-ad-hoc-testing-a-pairtriple-detector-in-verilog">4. Ad-Hoc Testing a Pair/Triple Detector in Verilog</h2>
<p>In this part, we will first implement a test bench for our pair/triple
detector before simulating the detector to test its functionality.</p>
<h3 id="41-implementing-a-verilog-test-bench">4.1. Implementing a Verilog Test Bench</h3>
<p>Now that we have successfully linted our design, we want to test its
functionality (i.e., make sure it produces the correct output for various
inputs). We need to implement a Verilog <em>test bench</em> which will set
inputs and check outputs. We can use Verilog to implement hardware
designs and to implement test benches. <strong>It is critical we keep these two
very different uses of Verilog separate!</strong> When using Verilog for
hardware design we are using Verilog to model hardware. We must be very
careful, restrict ourselves to a very limited subset of the Verilog
language, and ensure we always know what is the hardware we are modeling.
<strong>It is easy to write Verilog which does not model any real hardware!</strong>
When using Verilog for test benches, we can use any part of the Verilog
language we want; our goal is not to model hardware but to test hardware.</p>
<p>We have provided you a simple ad-hoc test bench in
<code>PairTripleDetector_GL-adhoc.v</code>. Take a look at this file in VS Code.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>%<span class="w"> </span>code<span class="w"> </span>PairTripleDetector_GL-adhoc.v
</span></code></pre></div>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="no">`include</span><span class="w"> </span><span class="s">&quot;PairTripleDetectorV1_GL.v&quot;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="k">module</span><span class="w"> </span><span class="n">Top</span><span class="p">();</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="kt">logic</span><span class="w"> </span><span class="n">dut_in0</span><span class="p">;</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">  </span><span class="kt">logic</span><span class="w"> </span><span class="n">dut_in1</span><span class="p">;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">  </span><span class="kt">logic</span><span class="w"> </span><span class="n">dut_in2</span><span class="p">;</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="kt">logic</span><span class="w"> </span><span class="n">dut_out</span><span class="p">;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="n">PairTripleDetector_GL</span><span class="w"> </span><span class="n">dut</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="p">(</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">    </span><span class="p">.</span><span class="n">in0</span><span class="w"> </span><span class="p">(</span><span class="n">dut_in0</span><span class="p">),</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">    </span><span class="p">.</span><span class="n">in1</span><span class="w"> </span><span class="p">(</span><span class="n">dut_in1</span><span class="p">),</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">    </span><span class="p">.</span><span class="n">in2</span><span class="w"> </span><span class="p">(</span><span class="n">dut_in2</span><span class="p">),</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">    </span><span class="p">.</span><span class="n">out</span><span class="w"> </span><span class="p">(</span><span class="n">dut_out</span><span class="p">)</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">  </span><span class="p">);</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">  </span><span class="k">initial</span><span class="w"> </span><span class="k">begin</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="n">$dumpfile</span><span class="p">(</span><span class="s">&quot;PairTripleDetector_GL-test.vcd&quot;</span><span class="p">);</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">    </span><span class="n">$dumpvars</span><span class="p">;</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">    </span><span class="n">dut_in0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="w">    </span><span class="n">dut_in1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">    </span><span class="n">dut_in2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">    </span><span class="p">#</span><span class="mh">10</span><span class="p">;</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">    </span><span class="nb">$display</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;%b %b %b &gt; %b&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in0</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in1</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in2</span><span class="p">,</span><span class="w"> </span><span class="n">dut_out</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="w">    </span><span class="n">dut_in0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="w">    </span><span class="n">dut_in1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="w">    </span><span class="n">dut_in2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="w">    </span><span class="p">#</span><span class="mh">10</span><span class="p">;</span>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">    </span><span class="nb">$display</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;%b %b %b &gt; %b&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in0</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in1</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in2</span><span class="p">,</span><span class="w"> </span><span class="n">dut_out</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">    </span><span class="n">dut_in0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="w">    </span><span class="n">dut_in1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="w">    </span><span class="n">dut_in2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">    </span><span class="p">#</span><span class="mh">10</span><span class="p">;</span>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span><span class="nb">$display</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;%b %b %b &gt; %b&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in0</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in1</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in2</span><span class="p">,</span><span class="w"> </span><span class="n">dut_out</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="w">    </span><span class="n">dut_in0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="w">    </span><span class="n">dut_in1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="w">    </span><span class="n">dut_in2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="w">    </span><span class="p">#</span><span class="mh">10</span><span class="p">;</span>
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="w">    </span><span class="nb">$display</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;%b %b %b &gt; %b&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in0</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in1</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in2</span><span class="p">,</span><span class="w"> </span><span class="n">dut_out</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a><span class="w">  </span><span class="k">end</span>
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a><span class="k">endmodule</span>
</span></code></pre></div>
<p>The <code>include</code> statement is used by the Verilog preprocessor and indicates
that the adhoc test depends on the Verilog hardware design. We start by
declaring four wires that will be connected to the design-under-test.
Note that we use <code>logic</code> not <code>wire</code> in test benches. A <code>logic</code> is a more
abstract kind of signal than a <code>wire</code> in Verilog. We then instantiates
the design-under-test (DUT) and hooks up the ports to the <code>logic</code> signals
we just declared.</p>
<p>An initial block is a special piece of code which starts running at the
beginning of a simulation. <strong>You should NEVER use an initial block when
modeling hardware.</strong> But it is perfectly fine to use an initial block in
your test benches. We call two system tasks (<code>$dumpfile</code>,<code>$dumpvars</code>) to
tell the simulator to output a VCD file which contains waveforms so we
can visualize what our hardware design is doing. Then we set input values
for all input ports. Then wait 10 units of time. Then we display all of
the input and output values. We do this four times with four different
sets of input values.</p>
<h3 id="42-ad-hoc-testing-a-verilog-design">4.2. Ad-Hoc Testing a Verilog Design</h3>
<p>Now that we have implemented and linted our Verilog hardware design and
implemented a test bench, we want to simulate our hardware design to
verify its functionality. We will be using the open-source <code>iverilog</code>
(Icarus Verilog) simulator. One weakness of <code>iverilog</code> is that its error
messages are not great; this is one of the primary reasons we always
want to lint our designs first using <code>verilator</code>. There is more
information about <code>iverilog</code> on its webpage:</p>
<ul>
<li><a href="https://steveicarus.github.io/iverilog">https://steveicarus.github.io/iverilog</a></li>
</ul>
<p>When using <code>iverilog</code> there are always two steps. First, we create a
simulator and then we need to explicitly run the simulator to test
hardware design. Let's start by using <code>iverilog</code> to create a simulator
based on our pair/triple hardware design and test bench.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>%<span class="w"> </span>iverilog<span class="w"> </span>-Wall<span class="w"> </span>-g2012<span class="w"> </span>-o<span class="w"> </span>PairTripleDetector_GL-adhoc<span class="w"> </span>PairTripleDetector_GL-adhoc.v
</span></code></pre></div>
<p>If there are no errors you should now have a simulator named
<code>PairTripleDetector_GL-adhoc</code>. Go ahead and execute the simulator.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>%<span class="w"> </span>./PairTripleDetector_GL-adhoc
</span></code></pre></div>
<p>The ad-hoc test will print out a simulation table. Compare it to the
simulation table you created by hand earlier in this discussion section.
You can also view the corresponding waveforms using the Surfer extension.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>%<span class="w"> </span>code<span class="w"> </span>PairTripleDetector_GL-adhoc.vcd
</span></code></pre></div>
<p>Find the <em>Scopes</em> panel and click on the arrow next to <em>Top</em>. Click on
<em>dut</em> and then click on the signals in the <em>Variables</em> panel to see the
waveforms.</p>
<h2 id="5-systematic-testing-for-a-pairtriple-detector-in-verilog">5. Systematic Testing for a Pair/Triple Detector in Verilog</h2>
<p>So far we have been using "ad-hoc" testing. Our test bench will display
outputs on the terminal. If it is not what we expected, we can debug our
hardware design until it meets our expectations. Unfortunately, ad-hoc
testing is error prone and not easily reproducible. If you later make a
change to your implementation, you would have to take another look at the
output to ensure your implementation still works. If another designer
wants to understand your implementation and verify that it is working, he
or she would also need to take a look at the output and think hard about
what is the expected result. Ad-hoc testing is usually verbose, which
makes it error prone, and does not use any kind of standard test output.
While ad-hoc testing might be feasible for very simple implementations,
it is obviously not a scalable approach when developing the more
complicated implementations we will tackle in this course.</p>
<p>We will be using a more <em>systematic</em> way to do automated unit testing
including standardized naming conventions, test benches, and test output.
We have provided you an example of such systematic testing in
<code>PairTripleDetector_GL-test.v</code>. Take a look at this file in VS Code.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>%<span class="w"> </span>code<span class="w"> </span>PairTripleDetector_GL-test.v
</span></code></pre></div>
<p>The systematic test bench still declares four wires that will be
connected to the DUT, and also still instantiates the DUT and hooks up
the ports. We then declare a <code>check</code> task. We will be using Verilog tasks
in our test bench. Tasks are a Verilog feature used for creating test
benches and should be avoided when modeling hardware. A task is similar
to a function in a software programming language and are critical for
creating clean test benches.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="w">  </span><span class="k">task</span><span class="w"> </span><span class="n">check</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="p">(</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="kt">logic</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="kt">logic</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="kt">logic</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="kt">logic</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">  </span><span class="p">);</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">t</span><span class="p">.</span><span class="n">failed</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">      </span><span class="n">dut_in0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in0</span><span class="p">;</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">      </span><span class="n">dut_in1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in1</span><span class="p">;</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">      </span><span class="n">dut_in2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in2</span><span class="p">;</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">      </span><span class="p">#</span><span class="mh">8</span><span class="p">;</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">n</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mh">0</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">        </span><span class="nb">$display</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;%3d: %b %b %b &gt; %b&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">cycles</span><span class="p">,</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">                  </span><span class="n">dut_in0</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in1</span><span class="p">,</span><span class="w"> </span><span class="n">dut_in2</span><span class="p">,</span><span class="w"> </span><span class="n">dut_out</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">      </span><span class="no">`ECE2300_CHECK_EQ</span><span class="p">(</span><span class="w"> </span><span class="n">dut_out</span><span class="p">,</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">      </span><span class="p">#</span><span class="mh">2</span><span class="p">;</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">    </span><span class="k">end</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">  </span><span class="k">endtask</span>
</span></code></pre></div>
<p>The <code>check</code> task takes as values we want to use as input to test our
design, and the correct output values we want to check for. The task then
sets the input, waits for some amount of time, displays the input and
output values, and then checks that the output is as expected. We then
declare one or more test case tasks. Each test case task has a sequence
of checks. Here is the basic test case.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="w">  </span><span class="k">task</span><span class="w"> </span><span class="n">test_case_1_basic</span><span class="p">();</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="n">t</span><span class="p">.</span><span class="n">test_case_begin</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;test_case_1_basic&quot;</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="n">check</span><span class="p">(</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="n">check</span><span class="p">(</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="n">check</span><span class="p">(</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="p">,</span><span class="w"> </span><span class="mh">0</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">    </span><span class="n">check</span><span class="p">(</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="p">,</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">  </span><span class="k">endtask</span>
</span></code></pre></div>
<p>Finally, our test bench uses an initial block to decide which test cases
to run.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="w">  </span><span class="k">initial</span><span class="w"> </span><span class="k">begin</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="n">t</span><span class="p">.</span><span class="n">test_bench_begin</span><span class="p">(</span><span class="w"> </span><span class="no">`__FILE__</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">t</span><span class="p">.</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">1</span><span class="p">))</span><span class="w"> </span><span class="n">test_case_1_basic</span><span class="p">();</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">t</span><span class="p">.</span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">2</span><span class="p">))</span><span class="w"> </span><span class="n">test_case_2_exhaustive</span><span class="p">();</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">    </span><span class="n">t</span><span class="p">.</span><span class="n">test_bench_end</span><span class="p">();</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">  </span><span class="k">end</span>
</span></code></pre></div>
<p>We can compile and run our systematic testing just like our ad-hoc
testing.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>%<span class="w"> </span>iverilog<span class="w"> </span>-Wall<span class="w"> </span>-g2012<span class="w"> </span>-o<span class="w"> </span>PairTripleDetector_GL-test<span class="w"> </span>PairTripleDetector_GL-test.v
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>%<span class="w"> </span>./PairTripleDetector_GL-test
</span></code></pre></div>
<p>Remember, you can always use the up arrow key to retrieve a previously
entered command. You can then quickly edit it as opposed to having to
type a complete command from scratch.</p>
<p>The simple unit testing framework we provide you enables to specify a
single test case to run (with <code>+test-case=1</code> or <code>+test-case=2</code>), and
generate a VCD file for viewing waveforms (with
<code>+dump-vcd=waveform.vcd</code>).</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>%<span class="w"> </span>./PairTripleDetector_GL-test<span class="w"> </span>+test-case<span class="o">=</span><span class="m">1</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>%<span class="w"> </span>./PairTripleDetector_GL-test<span class="w"> </span>+test-case<span class="o">=</span><span class="m">1</span><span class="w"> </span>+dump-vcd<span class="o">=</span>PairTripleDetector_GL-test.vcd
</span></code></pre></div>
<p>Open up the waveforms in surfer.</p>
<div class="admonition question">
<p class="admonition-title">Activity 4: Exhaustive Testing</p>
<p>Finish the second test case which should use exhaustive testing.
Exhaustive testing simply means we test all possible input values.
You can refer to the truth table from earlier in the discussion
section and simply have one check for every row in the truth table.
When you have finished rerun the the test using <code>+test-case=2</code> to
make sure your test bench is testing what you think it is. Then
inject a bug (e.g., change an OR gate to a NOR gate) to see if the
test bench fails.</p>
</div>
<h2 id="6-automating-the-development-process">6. Automating the Development Process</h2>
<p>The key to being a productive hardware designer is to automate as much of
the process as possible. We will learn how to use a real build system in
the next discussion section to help automate linting, compiling,
simulating, and testing hardware designs. In this discussion section, we
will briefly discuss two other wayts to automate the development process.</p>
<h3 id="61-using-bash-shell-scripts-for-testing">6.1. Using Bash Shell Scripts for Testing</h3>
<p>If you find yourself continually having to use the same complex commands
over and over, consider creating a Bash shell script to automatically
execute those commands. A Bash shell script is just a text file with a
list of commands that you can run using the <code>source</code> command.</p>
<p>For example, let's create a Bash shell script to automatically lint,
compile, and run the systematic test bench developed earlier in the
discussion section. Use VS Code to open a new file called
<code>PairTripleDetector_GL-test.sh</code> (note that by convention we usually use
the <code>.sh</code> extension for Bash shell scripts).</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>% cd ${HOME}/ece2300/sec02
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>% code PairTripleDetector_GL-test.sh
</span></code></pre></div>
<p>Then enter the following commands into this new Bash shell script.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>verilator -Wall --lint-only PairTripleDetector_GL.v
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>iverilog -Wall -g2012 -o PairTripleDetector_GL-test PairTripleDetector_GL-test.v
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>./PairTripleDetector_GL-test
</span></code></pre></div>
<p>Then save the Bash shell script and execute it using the <code>source</code>
command.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>% cd ${HOME}/ece2300/tut01
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>% source PairTripleDetector_GL-test.sh
</span></code></pre></div>
<p>The script will automatically lint your design, compile your design with
the test bench into a simulator, and then run the simulator to test your
design all in a single step.</p>
<h3 id="62-using-github-actions-for-continuous-integration">6.2. Using GitHub Actions for Continuous Integration</h3>
<p>We will be using GitHub Actions for continuous integration which means
that GitHub Actions will run all of your tests in the cloud every time
you push to GitHub. Go ahead and commit your work and push to GitHub.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/ece2300/sec02
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>%<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-a<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;finished implementation&quot;</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>%<span class="w"> </span>git<span class="w"> </span>push
</span></code></pre></div>
<p>Then go to the <em>Actions</em> tab of your repo.</p>
<ul>
<li><a href="https://github.com/githubid/ece2300-sec02-verilog-gl/actions">https://github.com/githubid/ece2300-sec02-verilog-gl/actions</a></li>
</ul>
<p>You should be able to see a workflow run. Click on the name of the
workflow run, then click on <em>sim</em>, then if you click on <em>Run sim_tests</em>
you should be able to see the output of running the tests in the cloud
through GitHub Actions.</p>
<h2 id="7-to-do-on-your-own">7. To-Do On Your Own</h2>
<p>Let's say we started from just the original truth table for a pair/triple
detector without the gate-level network. We can also directly transform
this truth table into a (unoptimized) Verilog hardware design. We first
use four NOT gates to create the complement of each input. We then
declare eight wires, one for each row in the truth table. We use eight
AND gates so each to ensure each of the eight wires will be true for a
different row in the truth table. Then we OR together all of the wires
where the output in the truth table is one to derive the final output.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">module</span><span class="w"> </span><span class="n">PairTripleDetector_GL</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="p">(</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="p">);</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">  </span><span class="c1">// NOT gates to create complement of each input</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0_b</span><span class="p">,</span><span class="w"> </span><span class="n">in1_b</span><span class="p">,</span><span class="w"> </span><span class="n">in2_b</span><span class="p">;</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">  </span><span class="k">not</span><span class="p">(</span><span class="w"> </span><span class="n">in0_b</span><span class="p">,</span><span class="w"> </span><span class="n">in0</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">  </span><span class="k">not</span><span class="p">(</span><span class="w"> </span><span class="n">in1_b</span><span class="p">,</span><span class="w"> </span><span class="n">in1</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">  </span><span class="k">not</span><span class="p">(</span><span class="w"> </span><span class="n">in2_b</span><span class="p">,</span><span class="w"> </span><span class="n">in2</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">  </span><span class="c1">// AND gates for each row in the truth table</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">min3</span><span class="p">,</span><span class="w"> </span><span class="n">min5</span><span class="p">,</span><span class="w"> </span><span class="n">min6</span><span class="p">,</span><span class="w"> </span><span class="n">min7</span><span class="p">;</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">  </span><span class="c1">// and( min0, in0_b, in1_b, in2_b );</span>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">  </span><span class="c1">// and( min1, in0_b, in1_b, in2   );</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">  </span><span class="c1">// and( min2, in0_b, in1,   in2_b );</span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">  </span><span class="k">and</span><span class="p">(</span><span class="w"> </span><span class="n">min3</span><span class="p">,</span><span class="w"> </span><span class="n">in0_b</span><span class="p">,</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span><span class="w">   </span><span class="n">in2</span><span class="w">   </span><span class="p">);</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">  </span><span class="c1">// and( min4, in0,   in1_b, in2_b );</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="w">  </span><span class="k">and</span><span class="p">(</span><span class="w"> </span><span class="n">min5</span><span class="p">,</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span><span class="w">   </span><span class="n">in1_b</span><span class="p">,</span><span class="w"> </span><span class="n">in2</span><span class="w">   </span><span class="p">);</span>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="w">  </span><span class="k">and</span><span class="p">(</span><span class="w"> </span><span class="n">min6</span><span class="p">,</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span><span class="w">   </span><span class="n">in1</span><span class="p">,</span><span class="w">   </span><span class="n">in2_b</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">  </span><span class="k">and</span><span class="p">(</span><span class="w"> </span><span class="n">min7</span><span class="p">,</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span><span class="w">   </span><span class="n">in1</span><span class="p">,</span><span class="w">   </span><span class="n">in2</span><span class="w">   </span><span class="p">);</span>
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a>
</span><span id="__span-20-31"><a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="w">  </span><span class="c1">// OR together all wires where output in truth table is one</span>
</span><span id="__span-20-32"><a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a>
</span><span id="__span-20-33"><a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="w">  </span><span class="k">or</span><span class="p">(</span><span class="w"> </span><span class="n">out</span><span class="p">,</span><span class="w"> </span><span class="n">min3</span><span class="p">,</span><span class="w"> </span><span class="n">min5</span><span class="p">,</span><span class="w"> </span><span class="n">min6</span><span class="p">,</span><span class="w"> </span><span class="n">min7</span><span class="w"> </span><span class="p">);</span>
</span><span id="__span-20-34"><a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a>
</span><span id="__span-20-35"><a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a><span class="k">endmodule</span>
</span></code></pre></div>
<p>Note that we have commented out the minterms which are not used to avoid
causing linting errors. It is still nice to have these minterms as
comments to make it easier to write all the minterms out.</p>
<p>Using explicit gate-level modeling can be tedious. We can also directly
implement Boolean equations in Verilog. Here is how our primitive gates
can be implemented using Boolean equations.</p>
<table>
<thead>
<tr>
<th>Explicit Gate-Level Modeling</th>
<th>Boolean Equations</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>not( y, a );</code></td>
<td><code>assign y =  ~a;</code></td>
</tr>
<tr>
<td><code>and( y, a, b );</code></td>
<td><code>assign y =   a &amp; b;</code></td>
</tr>
<tr>
<td><code>nand( y, a, b );</code></td>
<td><code>assign y = ~(a &amp; b);</code></td>
</tr>
<tr>
<td><code>or( y, a, b );</code></td>
<td><code>assign y =   a | b;</code></td>
</tr>
<tr>
<td><code>nor( y, a, b );</code></td>
<td><code>assign y = ~(a | b);</code></td>
</tr>
<tr>
<td><code>xor( y, a, b );</code></td>
<td><code>assign y =   a ^ b;</code></td>
</tr>
<tr>
<td><code>xnor( y, a, b );</code></td>
<td><code>assign y = ~(a ^ b);</code></td>
</tr>
</tbody>
</table>
<p>Here is the exact same gate-level network implementing the pair/triple
detector except now implemented using Boolean equations.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">module</span><span class="w"> </span><span class="n">PairTripleDetector_GL</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="p">(</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">  </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="p">);</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">w</span><span class="p">;</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">w</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">in0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">in1</span><span class="p">;</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">x</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">in0</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">in1</span><span class="p">;</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">y</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">w</span><span class="w">   </span><span class="o">&amp;</span><span class="w"> </span><span class="n">in2</span><span class="p">;</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="k">endmodule</span>
</span></code></pre></div>
<p>You can also of course use substitution to easily express the output in a
single Boolean equation.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="k">module</span><span class="w"> </span><span class="n">PairTripleDetector_GL</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="p">(</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">  </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="p">);</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">in0</span><span class="o">|</span><span class="n">in1</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">in2</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">in0</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">in1</span><span class="p">);</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="k">endmodule</span>
</span></code></pre></div>
<p>Just as with explicit gate-level modeling, we can also directly transform
the original truth table for a pair/triple detector into a Verilog
hardware design using Boolean equations.</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">module</span><span class="w"> </span><span class="n">PairTripleDetectorV5_GL</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="p">(</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in0</span><span class="p">,</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in1</span><span class="p">,</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">  </span><span class="k">input</span><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">in2</span><span class="p">,</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span><span class="k">output</span><span class="w"> </span><span class="kt">wire</span><span class="w"> </span><span class="n">out</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="p">);</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">  </span><span class="c1">// AND gates for each row in the truth table</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">  </span><span class="kt">wire</span><span class="w"> </span><span class="n">min3</span><span class="p">,</span><span class="w"> </span><span class="n">min5</span><span class="p">,</span><span class="w"> </span><span class="n">min6</span><span class="p">,</span><span class="w"> </span><span class="n">min7</span><span class="p">;</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">  </span><span class="c1">// assign min0 = ~in0 &amp; ~in1 &amp; ~in2;</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">  </span><span class="c1">// assign min1 = ~in0 &amp; ~in1 &amp;  in2;</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">  </span><span class="c1">// assign min2 = ~in0 &amp;  in1 &amp; ~in2;</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">min3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">in0</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="n">in1</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="n">in2</span><span class="p">;</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">  </span><span class="c1">// assign min4 =  in0 &amp; ~in1 &amp; ~in2;</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">min5</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">in0</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="n">in1</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="n">in2</span><span class="p">;</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">min6</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">in0</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="n">in1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">~</span><span class="n">in2</span><span class="p">;</span>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">min7</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">in0</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="n">in1</span><span class="w"> </span><span class="o">&amp;</span><span class="w">  </span><span class="n">in2</span><span class="p">;</span>
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a>
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="w">  </span><span class="c1">// OR together all wires where output in truth table is one</span>
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a>
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="w">  </span><span class="k">assign</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min3</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">min5</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">min6</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">min7</span><span class="p">;</span>
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a>
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="k">endmodule</span>
</span></code></pre></div>
<p>again, we have commented out the minterms which are not used to avoid
causing linting errors. It is still nice to have these minterms as
comments to make it easier to write all the minterms out.</p>
<p>We now have explored four new approaches to implementing a pair/triple
detector. All four are equivalent with our original implementation.
Modify your implementation in <code>PairTripleDetector_GL.v</code> based on one of
these new approach and then rerun the ad-hoc and systematic tests to
verify your new implementation is correct.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Christopher Batten
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="../js/extras.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.1.0/skins/default.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.1.0/wavedrom.min.js"></script>
      
        <script src="../js/wavedrom_loader.js"></script>
      
    
  </body>
</html>